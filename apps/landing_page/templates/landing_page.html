{% extends 'base.html' %}
{% load static %}

{% block title %}Home | SoilSense{% endblock %}

{% block content %}
<!-- ‚úÖ HERO SECTION -->
<section class="relative h-screen flex items-center justify-center pt-30">
  <img id="bg-slider-img" src="{% static 'images/slide1.jpg' %}" class="absolute w-full h-full object-cover z-0 transition-opacity duration-1000" />
  <div class="absolute inset-0 bg-gradient-to-b from-black/20 to-green-900/10 z-10 flex flex-col items-center justify-center text-white text-center">
    <h1 class="text-5xl md:text-6xl font-extrabold drop-shadow animate-fade-in">
      Grow Smarter. <span class="text-green-300">Harvest Better.</span>
    </h1>
    <p class="text-2xl mt-4 font-semibold animate-fade-in delay-200">
      Real-time soil insights for thriving farms and a greener future.
    </p>
    <p class="text-lg mt-2 animate-fade-in delay-400">
      Empowering farmers, researchers, and agencies with data-driven decisions.
    </p>
    <a href="{% url 'authentication:signup' %}" class="mt-6 bg-green-500 text-white font-semibold px-8 py-3 rounded shadow-lg hover:bg-green-600 transition transform hover:scale-105 animate-bounce">
      Get Started Free
    </a>
  </div>
</section>
<!-- ‚úÖ FEATURES SECTION -->
<section id="features" class="pt-20 py-20 bg-gradient-to-b from-green-50 to-white">
    <div class="max-w-6xl mx-auto px-6 text-center">
        <h2 class="text-4xl font-extrabold mb-4 text-green-800 drop-shadow">Powerful Features for Smart Farming</h2>
        <p class="text-gray-700 mb-12 text-lg">Everything you need to monitor, analyze, and improve your soil's health.</p>
        <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
            <!-- Feature 1 -->
            <div class="bg-white hover:bg-green-100 border border-green-200 rounded-2xl p-8 transition-all shadow-lg hover:scale-105 hover:shadow-2xl group">
                <div class="flex items-center justify-center mb-4 text-green-600 group-hover:text-green-800 transition">
                    <!-- Heroicon: Chart Bar -->
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-14 w-14" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 17v-6m4 6V9m4 6v-3M5 19h14" />
                    </svg>
                </div>
                <h3 class="text-xl font-bold text-green-900 mb-2">Live Soil Monitoring</h3>
                <p class="text-gray-700">Access real-time moisture readings from all your fields on one smart dashboard.</p>
            </div>
            <!-- Feature 2 -->
            <div class="bg-white hover:bg-green-100 border border-green-200 rounded-2xl p-8 transition-all shadow-lg hover:scale-105 hover:shadow-2xl group">
                <div class="flex items-center justify-center mb-4 text-green-600 group-hover:text-green-800 transition">
                    <!-- Heroicon: Trending Up -->
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-14 w-14" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 17l6-6 4 4 8-8" />
                    </svg>
                </div>
                <h3 class="text-xl font-bold text-green-900 mb-2">Visual Reports & Trends</h3>
                <p class="text-gray-700">Track moisture over time with easy-to-read charts that support seasonal planning.</p>
            </div>
            <!-- Feature 3 -->
            <div class="bg-white hover:bg-green-100 border border-green-200 rounded-2xl p-8 transition-all shadow-lg hover:scale-105 hover:shadow-2xl group">
                <div class="flex items-center justify-center mb-4 text-green-600 group-hover:text-green-800 transition">
                    <!-- Heroicon: Bell Alert -->
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-14 w-14" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14V11a6 6 0 10-12 0v3c0 .386-.146.735-.405 1.005L4 17h5m6 0v1a3 3 0 11-6 0v-1h6z" />
                    </svg>
                </div>
                <h3 class="text-xl font-bold text-green-900 mb-2">Smart Notifications</h3>
                <p class="text-gray-700">Get instant alerts when your soil is too dry or too wet ‚Äî never over- or under-water again.</p>
            </div>
        </div>
    </div>
</section>

<!-- ‚úÖ HOW IT WORKS -->
<section id="how" class="py-16 bg-green-50">
    <h2 class="text-3xl font-extrabold text-center mb-10 text-green-800 drop-shadow">How It Works</h2>
    <div class="overflow-hidden w-full">
      <div class="how-marquee flex gap-10 w-max">
        <div class="text-center bg-white rounded-2xl shadow-lg p-8 min-w-[300px] hover:scale-105 transition how-card">
            <div class="text-6xl mb-2 text-green-600">1Ô∏è‚É£</div>
            <h4 class="font-bold text-lg mb-1 text-green-900">Install Sensors</h4>
            <p class="text-gray-700">Place wireless soil moisture sensors in your field.</p>
        </div>
        <div class="text-center bg-white rounded-2xl shadow-lg p-8 min-w-[300px] hover:scale-105 transition how-card">
            <div class="text-6xl mb-2 text-green-600">2Ô∏è‚É£</div>
            <h4 class="font-bold text-lg mb-1 text-green-900">Connect & Stream</h4>
            <p class="text-gray-700">Data is automatically sent to the web app via API.</p>
        </div>
        <div class="text-center bg-white rounded-2xl shadow-lg p-8 min-w-[300px] hover:scale-105 transition how-card">
            <div class="text-6xl mb-2 text-green-600">3Ô∏è‚É£</div>
            <h4 class="font-bold text-lg mb-1 text-green-900">View & Act</h4>
            <p class="text-gray-700">Log in, monitor graphs, and take action accordingly.</p>
        </div>
        <!-- Duplicate for seamless loop -->
        <div class="text-center bg-white rounded-2xl shadow-lg p-8 min-w-[300px] hover:scale-105 transition how-card">
            <div class="text-6xl mb-2 text-green-600">1Ô∏è‚É£</div>
            <h4 class="font-bold text-lg mb-1 text-green-900">Install Sensors</h4>
            <p class="text-gray-700">Place wireless soil moisture sensors in your field.</p>
        </div>
        <div class="text-center bg-white rounded-2xl shadow-lg p-8 min-w-[300px] hover:scale-105 transition how-card">
            <div class="text-6xl mb-2 text-green-600">2Ô∏è‚É£</div>
            <h4 class="font-bold text-lg mb-1 text-green-900">Connect & Stream</h4>
            <p class="text-gray-700">Data is automatically sent to the web app via API.</p>
        </div>
        <div class="text-center bg-white rounded-2xl shadow-lg p-8 min-w-[300px] hover:scale-105 transition how-card">
            <div class="text-6xl mb-2 text-green-600">3Ô∏è‚É£</div>
            <h4 class="font-bold text-lg mb-1 text-green-900">View & Act</h4>
            <p class="text-gray-700">Log in, monitor graphs, and take action accordingly.</p>
        </div>
      </div>
    </div>
</section>

<!-- ‚úÖ WHO IT‚ÄôS FOR -->
<section id="users" class="py-16 bg-white text-center relative" style="background-image: url('{% static 'images/ladyone.jpg' %}'); background-size: cover; background-position: center;">
    <div class="absolute inset-0 bg-white/50 backdrop-blur-sm"></div>
    <div class="relative z-10">
        <h2 class="text-3xl font-extrabold mb-10 text-green-800 drop-shadow">Who Uses SoilSense?</h2>
        <div class="grid md:grid-cols-3 gap-10 max-w-6xl mx-auto px-8">
            <div class="bg-green-50 rounded-2xl shadow-lg p-8 hover:scale-105 transition">
                <h4 class="text-2xl font-bold mb-2 text-green-900">üåæ Farmers</h4>
                <p class="text-gray-700">Maximize yields and reduce irrigation costs with data-driven decisions.</p>
            </div>
            <div class="bg-green-50 rounded-2xl shadow-lg p-8 hover:scale-105 transition">
                <h4 class="text-2xl font-bold mb-2 text-green-900">üë®‚Äçüî¨ Researchers</h4>
                <p class="text-gray-700">Collect consistent, exportable soil moisture data for experiments.</p>
            </div>
            <div class="bg-green-50 rounded-2xl shadow-lg p-8 hover:scale-105 transition">
                <h4 class="text-2xl font-bold mb-2 text-green-900">üè¢ Agencies</h4>
                <p class="text-gray-700">Monitor soil conditions in districts or regions for climate-smart planning.</p>
            </div>
        </div>
    </div>
</section>

<!-- ‚úÖ SCREENSHOTS -->
<section class="py-16 bg-gray-100 text-center">
    <h2 class="text-3xl font-extrabold mb-8 text-green-800 drop-shadow">App Preview</h2>
    <div class="grid md:grid-cols-2 gap-10 max-w-5xl mx-auto px-6">
        <div class="bg-white rounded-3xl shadow-2xl p-6 flex items-center justify-center min-h-[340px] md:min-h-[420px] hover:scale-105 transition duration-200 border-4 border-green-100">
            <img src="{% static 'images/Dashboard.png' %}" alt="Dashboard" class="w-full h-auto max-w-[480px] max-h-[320px] md:max-h-[380px] object-contain rounded-2xl">
        </div>
        <div class="bg-white rounded-3xl shadow-2xl p-6 flex items-center justify-center min-h-[340px] md:min-h-[420px] hover:scale-105 transition duration-200 border-4 border-green-100">
            <img src="{% static 'images/chart.png' %}" alt="Chart" class="w-full h-auto max-w-[480px] max-h-[320px] md:max-h-[380px] object-contain rounded-2xl">
        </div>
    </div>
</section>

<!-- ‚úÖ CONTACT FORM -->
<section id="contact" class="py-20 bg-gradient-to-b from-white to-green-50">
    <div class="max-w-2xl mx-auto text-center">
        <h2 class="text-3xl font-extrabold mb-6 text-green-800 drop-shadow">Contact Us</h2>
        <p class="mb-8 text-gray-700">Need help? Want a demo? Fill in the form below:</p>
        <form method="post" action="/contact/" class="space-y-6 text-left bg-white border border-green-100 rounded-2xl shadow-xl p-10">
            {% csrf_token %}
            <input type="text" name="name" placeholder="Your Name" required class="w-full px-5 py-3 border-2 border-green-200 rounded-lg focus:ring-2 focus:ring-green-400 focus:outline-none text-lg">
            <input type="email" name="email" placeholder="Your Email" required class="w-full px-5 py-3 border-2 border-green-200 rounded-lg focus:ring-2 focus:ring-green-400 focus:outline-none text-lg">
            <textarea name="message" rows="4" placeholder="Your Message" required class="w-full px-5 py-3 border-2 border-green-200 rounded-lg focus:ring-2 focus:ring-green-400 focus:outline-none text-lg"></textarea>
            <button type="submit" class="bg-gradient-to-r from-green-400 via-green-500 to-green-600 text-white px-8 py-3 rounded-full font-bold shadow-md hover:scale-105 hover:bg-green-700 transition duration-200">Send Message</button>
            {% if messages %}
                <div class="mt-4">
                    {% for message in messages %}
                        <div class="p-4 mb-2 text-sm text-green-800 bg-green-100 rounded-lg shadow" role="alert">{{ message }}</div>
                    {% endfor %}
                </div>
            {% endif %}
        </form>
    </div>
</section>
{% endblock %}

{% block scripts %}
<style>
@keyframes slide-in-right {
  0% { transform: translateX(100vw); opacity: 0; }
  100% { transform: translateX(0); opacity: 1; }
}
.how-works-animate {
  animation: slide-in-right 1s cubic-bezier(0.4,0,0.2,1) both;
}
@keyframes marquee-left {
  0% { transform: translateX(0); }
  100% { transform: translateX(-50%); }
}
.how-marquee {
  animation: marquee-left 18s linear infinite;
}
</style>
<script>
document.addEventListener('DOMContentLoaded', function () {
  const images = [
    "{% static 'images/slide1.jpg' %}", // general
    "{% static 'images/garden2.jpg' %}", // general
    "{% static 'images/lady.jpg' %}", // lady
    "{% static 'images/lady3.jpg' %}", // lady
    "{% static 'images/ladyone.jpg' %}" // lady
  ];
  let current = 0;
  const imgEl = document.getElementById('bg-slider-img');

  setInterval(() => {
    imgEl.classList.add('opacity-0');
    setTimeout(() => {
      current = (current + 1) % images.length;
      imgEl.src = images[current];
      imgEl.classList.remove('opacity-0');
    }, 700);
  }, 4000);

  // Staggered slide in for 'How It Works' cards
  const howSection = document.getElementById('how');
  const howCards = howSection.querySelectorAll('.how-card');
  let howAnimated = false;
  function animateHowCards() {
    if (!howAnimated && howSection.getBoundingClientRect().top < window.innerHeight - 100) {
      howCards.forEach((card, i) => {
        setTimeout(() => card.classList.add('how-works-animate'), i * 250);
      });
      howAnimated = true;
    }
  }
  window.addEventListener('scroll', animateHowCards);
  animateHowCards();
});
</script>
{% endblock %}

